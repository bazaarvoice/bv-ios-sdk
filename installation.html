<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <script type="text/javascript" src="./assets/js/highlight.pack.js"></script>

  <script type="text/javascript" src="./assets/js/jquery_rotate.js"></script>
  <script type="text/javascript" src="./assets/js/main.js"></script>
  <script type="text/javascript" src="./assets/js/popover.js"></script>

  <script>
    
$(function(){

	// select the tab in the sidebar to reflect current page position

	var tabName = "Installation";

	$('.nav-link.active').removeClass('active');
	console.log('active tab: ', tabName);
	var nav_link = $('.nav-link:contains("' + tabName + '")');
	console.log('actual nav link:', nav_link);
	nav_link.addClass('active');
	
});
  </script>

  <script>
    /**
 * Scrolls to the element with the provided class name.
 *
 * @param {String} id - the id of the element we want to scroll to
 */
function scrollToElementById(id) {
  if (!id) {
    throw TypeError(
      'scrollToElementByID(string) - requires a string to be passed in as param'
    );
  }
  const element = document.getElementById(id);
  if (!element) {
    throw Error(`No element found with id "${id}".`);
  }
  scrollToElement(element);
}

/**
 * Scrolls the viewport to the provided element.
 * @param  {DOMNode} element the element to scroll to.
 */
function scrollToElement(element) {
  try {
    element.scrollIntoView();
  } catch (error) {
    console.log(error);
  }
}

/**
 * Clicks on the element with the provided class name.
 * @param {String} id - the id of the element we want to click on.
 */
function triggerClickById(id) {
  if (!id) {
    throw TypeError(
      'triggerClickById(string) - requires a string to be passed in as param'
    );
  }
  const element = document.getElementById(id);
  if (!element) {
    throw Error(`No element found with id "${id}".`);
  }
  triggerClickOnElement(element);
}

/**
 * Clicks on the provided element.
 * @param  {DOMNode} element the element to click on.
 */
function triggerClickOnElement(element) {
  try {
    element.click();
  } catch (error) {
    console.log(error);
  }
}

function scrollAndClickById(id) {
  triggerClickById(id);
  scrollToElementById(id);
}

  </script>


  <script>
  $(document).ready(function(){
      $('[data-toggle="popover"]').popover();
  });

  /* Close all the other popovers */
  $('html').on('mouseup', function(e) {
      if(!$(e.target).closest('.popover').length) {
          $('.popover').each(function(){
              $(this.previousSibling).popover('hide');
          });
      }
  });

  </script>

  <script>hljs.initHighlightingOnLoad();</script>


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/bvbootstrap.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/highlightjs/default.min.css">
  <link rel="stylesheet" type="text/css" href="./assets/css/main.css">


  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="./public/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./public/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./public/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./public/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="60x60" href="./public/apple-touch-icon-60x60.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="./public/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="./public/apple-touch-icon-76x76.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="./public/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="./public/favicon-196x196.png" sizes="196x196" />
  <link rel="icon" type="image/png" href="./public/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/png" href="./public/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="./public/favicon-16x16.png" sizes="16x16" />
  <link rel="icon" type="image/png" href="./public/favicon-128.png" sizes="128x128" />
  <meta name="application-name" content="&nbsp;"/>
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="./public/mstile-144x144.png" />
  <meta name="msapplication-square70x70logo" content="./public/mstile-70x70.png" />
  <meta name="msapplication-square150x150logo" content="./public/mstile-150x150.png" />

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', UA-56370630-4, 'auto');
    ga('set', {
      title: 'Installation'
    });
    ga('send', 'pageview');
  </script>

</head>


  <body>
    <div id="portal_container">
      
      <nav class="navbar-fixed-top">
    <div class="navbar-header">
        <div class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
             aria-expanded="false">
            <i class="fa fa-bars fa-3"
               style="color:#fffff5; background-color: #00AB8E; padding:7px; border-radius: 3px;"></i>

            <a href="/" class="bv_logo" style="font-size: 22px;">
                <span class="bv_teal">&nbsp;bazaar</span><span class="bv_white">voice</span><span
                    class="bv_teal">:</span>
            </a>
        </div>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav side-nav nav-stacked nav-pills">
            <div class="bv_logo">
                <a href="/bv-ios-sdk/index.html">
                    <span class="bv_teal">bazaar</span><span class="bv_white">voice</span><span class="bv_teal">:</span>
                </a>
            </div>
            <li class="nav-item">
                <a class="nav-link active" href="index.html">
                    <span><i class="m-r-1 fa fa-file-text-o"></i>Getting Started</span>
                </a>
                <ul>
                    <li class="nav-item">
                        <a class="nav-link" href="requirements.html">
                            <span>Requirements</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="installation.html">
                            <span>Installation and Configuration</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="example_projects.html">
                            <span>Example Projects</span>
                        </a>
                    </li>
                </ul>
            </li>
            <li class="nav-item">
                <span class="nav-link" href="modules.html">
                    <span><i class="m-r-1 fa fa-cogs"></i>Modules</span>
                </span>
                <ul>


                    <!-- BV Pixel -->
					<li class="nav-item">
                                    <a class="nav-link" href="bvpixel_implementation.html"><span>BV Pixel</span></a>
                                </li>

                     <!-- Conversations -->
                    <li class="nav-item">
                        <a class="nav-link" role="button" data-toggle="collapse" href="#conversationsDropdown"
                           aria-expanded="false" aria-controls="conversationsDropdown">
                                <span><span>Conversations</span><span style="float:right;"><i
                                        id="conversationsDropdownArrow"
                                        class="fa fa-sort-desc fa-rotate-270"></i></span></span>
                        </a>
                        <div class="collapse "
                             id="conversationsDropdown">
                            <ul>
                                <li class="nav-item">
                                    <a class="nav-link" href="content_display.html"><span>Content Display</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="content_submission.html"><span>Content Submission</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="conversations_authentication.html"><span>Authentication</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="conversations_iovation.html"><span>Authenticity with iovation</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="conversations_badges.html"><span>Badges</span></a>
                                </li>
                            </ul>
                        </div>

                    </li>

                    <!-- Curations -->
                    <li class="nav-item">
                        <a class="nav-link" role="button" data-toggle="collapse" href="#curationsDropdown"
                           aria-expanded="false" aria-controls="curationsDropdown">
                                <span><span>Curations</span><span style="float:right;">
                                    <i id="curationsDropdownArrow" class="fa fa-sort-desc  fa-rotate-270"></i>
                                </span></span>
                        </a>
                        <div class="collapse "
                             id="curationsDropdown">
                            <ul>
                                <li class="nav-item">
                                    <a class="nav-link" href="curations_display.html"><span>Curations Display</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="curations_custom_posts.html"><span>Curations Custom Posts</span></a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Product Recommendations -->
                    <li class="nav-item">
                        <a class="nav-link" href="product_recommendations.html"><span>Product Recommendations (Beta)</span></a>
                    </li>

                    <!-- Ratings Reviews Stores -->
                     <li class="nav-item">
                        <a class="nav-link" role="button" data-toggle="collapse" href="#conversationsStoresDropdown"
                           aria-expanded="false" aria-controls="conversationsStoresDropdown">
                                <span><span>Ratings and Reviews for Stores</span><span style="float:right;"><i
                                        id="conversationsStoresDropdownArrow"
                                        class="fa fa-sort-desc fa-rotate-270"></i></span></span>
                        </a>
                        <div class="collapse "
                             id="conversationsStoresDropdown">
                            <ul>
                                <li class="nav-item">
                                    <a class="nav-link" href="conversations_stores.html"><span>Display and Submit API</span></a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="analytics_and_location.html">
                    <span><i class="m-r-1 fa fa-globe"></i>Analytics and Location</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="user_authentication_token.html">
                    <span><i class="m-r-1 fa fa-lock"></i>User Authentication Token</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="networking_delegation.html">
                    <span><i class="m-r-1 fa fa-paper-plane"></i>Networking Delegation</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="ios_9_considerations.html">
                    <span><i class="m-r-1 fa fa-mobile"></i> iOS 9 Considerations</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="faq_support.html">
                    <span><i class="m-r-1 fa fa-question-circle"></i>FAQ and Support</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./ios-assets/api_reference/index.html">
                    <span><i class="m-r-1 fa fa-book"></i>API Reference</span>
                </a>
            </li>
            <br>
            <li class="nav-item">
                <a class="nav-link"
                   href="mailto:support@bazaarvoice.com?subject=iOS SDK documentation feedback"
                   style="border: 1px #fff solid;">
                    <span><i class="m-r-1 fa fa-envelope"></i>Feedback</span>
                </a>
            </li>
        </ul>
    </div>
</nav>


      <div id="application_container">
        <div id="task_container">
          <div id="task_content" class="app-content">
            <div class="scroll-container scrollable--scrollbar">
              <div class="page-container">

                <p class="bg-danger well-lg" style="padding:4px;"><i class="fa fa-hand-o-right"></i> This documentation is currently deprecated and will be removed soon. <a class="bg-danger" href="https://developer.bazaarvoice.com/mobile-sdks">Here is the new location of the updated documentation</a></p>


<div class="flex flex-row" id="content_title">
  Installation
</div>
<p>This guide shows you how to install and configure the Bazaarvoice Mobile SDK into your iOS app. Please make sure you have all the <a href="requirements.html">needed requirements</a> for your application first! Bazaarvoice supports XCode 8.0 or higher.</p>
<hr>

<p><b>Topic in this section:</b></p>

<p>
<ol>
  <ul><a href="#install" onclick="navigateTab(this);">Installing the BVSDK</a></ul>
  <ul><a href="#config" onclick="navigateTab(this);">Configure the BVSDK (Config File, Recommended)</a></ul>
  <ul><a href="#config_program" onclick="navigateTab(this);">Configure the BVSDK (Programatically, Optional)</a></ul>
</ol>
</p>

<p class="bg-info well-lg" style="padding:4px;"><i class="fa fa-hand-o-right"></i>  <a class="bg-info"></a> If you need to use XCode 7.3, the last supported SDK version is 4.2.4.</p>


<a name="install"></a>
<h3>Installing the BVSDK</h3>

We support installation of the Bazaarvoice SDK for iOS with CocoaPods, Carthage, Dynamic Framework, or straight up source code. Choose the solution that best fits your development environment.

<hr>
<ul class="nav nav-tabs" role="tablist">
      <li role="presentation" class="active"><a href="#cocoapods" aria-controls="swift" role="tab" data-toggle="tab">CocoaPods</a></li>
      <li role="presentation"><a href="#carthage" aria-controls="objc" role="tab" data-toggle="tab">Carthage</a></li>
      <li role="presentation"><a href="#dynamicframework" aria-controls="objc" role="tab" data-toggle="tab">Dynamic Framework</a></li>
      <li role="presentation"><a href="#sourcecode" aria-controls="objc" role="tab" data-toggle="tab">Source Code</a></li>
    </ul>

    <!-- Tab panes for including headers/imports -->
    <div class="tab-content code-switcher">

      <!-- cocoapods -->
      <div role="tabpanel" class="tab-pane active" id="cocoapods">
        <p>By default, each BV module of the Cocoapods installs the BVCore + BVAnalytics modules. </p>

        1. Install the latest version of <a href="https://guides.cocoapods.org/using/getting-started.html">CocoaPods</a>. Bazaarvoice supports Cocoapods 1.1.0 or higher.
        <br><br>
        2. Add the pods for which you have an API key into your <code>Podfile</code>:
        <br><br>
        <pre><code># each pod is a subpsec so you only need to add the lines for the component you are installing.
pod 'BVSDK/BVAnalytics' // Automatically installed by any of the submodules below
pod 'BVSDK/BVCommon'
pod 'BVSDK/BVCommonUI'
pod 'BVSDK/BVConversations'
pod 'BVSDK/BVConversationsStores'
pod 'BVSDK/BVConversationsUI'
pod 'BVSDK/BVCurations'
pod 'BVSDK/BVCurationsUI'
pod 'BVSDK/BVNotifications'
pod 'BVSDK/BVRecommendations'
</code></pre>

        3. Run the following command from a terminal:
        <br><br>
        <pre><code>$ pod install</code></pre>
        <br>
        4. Open the managed <code>.xcworkspace</code> file to open your project in Xcode.</br><br>
        5. In the future, to update to the latest version of the SDK, just run:<br><br>

         <pre><code>$ pod update</code></pre>

      </div>

      <!-- carthage -->
      <div role="tabpanel" class="tab-pane" id="carthage">
         1. Install the latest version of <a href="https://github.com/Carthage/Carthage#installing-carthage">Carthage</a>.
         <br><br>
         2. Add the following line to your <code>Cartfile</code>:
         <br><br>
         <pre><code>github "bazaarvoice/bv-ios-sdk"</code></pre>
         <br>
         3. Follow the <a href="https://github.com/Carthage/Carthage#if-youre-building-for-ios-tvos-or-watchos">Carthage installation instructions</a>.
         <br><br>
         4. In the future, to update to the latest version of the SDK, run the following command:
         <br><br>
         <pre><code>$ carthage update</code></pre>

      </div>

      <!-- dynamicframework -->
      <div role="tabpanel" class="tab-pane" id="dynamicframework">
        1. Download the latest <code>BVSDK.framework.zip</code> from our <a href="https://github.com/bazaarvoice/bv-ios-sdk/releases">GitHub releases page</a>.<br><br>
        2. Drag <code>BVSDK.framework</code> to the "Embedded Binaries" section of your Xcode project's "General" settings. Make sure to select "Copy items if needed".<br><br>
        3. Head to the "Build Phases" section of your Xcode project settings, and create a new "Run Script Build Phase". Paste the following snippet into the text field:<br><br>
        <pre><code>bash "${BUILT_PRODUCTS_DIR}/${FRAMEWORKS_FOLDER_PATH}/BVSDK.framework/integrate-dynamic-framework.sh"</code></pre>

      </div>

      <!-- sourcecode -->
      <div role="tabpanel" class="tab-pane" id="sourcecode">

        <p>Clone this repo, or download the <a href="https://github.com/bazaarvoice/bv-ios-sdk/releases">latest release from GitHub</a>:</p>
        <img src="ios-img/manual_installation/download.png" style="height:200px;" class="center-block img-fluid" />

        <p>Copy all the source folders (under <code>/Pod</code>) into your project. Make sure to select <strong>Copy items if needed</strong>.</p>
        <video id="manualInstallVid" width="540" height="300" autoplay loop class="center-block img-fluid">
          <source src="ios-img/manual_installation/manual_installation.mp4" type="video/mp4" title="No video playback capabilities">
          <source src="ios-img/manual_installation/manual_installation.ogg" type="video/ogg" title="No video playback capabilities">

        </video>
        <script>
            document.getElementById('manualInstallVid').play();
        </script>

      </div>

    </div>
<br>
<a name="config"></a>
<h3>Configuring the BVSDK</h3>
<hr>
Once you have install the source code for the SDK, you are now ready to add your imports and initialize the <code>BVSDKManager</code> with your API key(s) and envrionment (staging versus production).
<br><br>
<div class="panel-group flex" id="accordion" role="tablist" aria-multiselectable="true" style="box-shadow: 1px 2px 4px #999;">
    


<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="heading-configurationCollapse">
    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#configurationCollapse" aria-expanded="true" aria-controls="configurationCollapse" style="text-decoration: none">
      <div class="flex flex-row" style="align-items: center; padding-bottom: 10px;">
          <i id="configurationArrow" class="fa fa-chevron-right" style="color:#777; padding-right: 10px;"></i>
          <h5 style="margin-bottom: 0;"><step>1</step> <span>Select Configuration Options</h5>
      </div>
      <div class="flex flex-row">
          <p style="color:#444; margin-bottom: 6px;">Configure your SDK options.<br/>The values you set will generate the necessary script and Mobile SDK intialization code to get you up and running quickly.</span></p>
      </div>
      <div style="clear:both;"></div>
    </a>
  </div>
  <div id="configurationCollapse" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
    <div class="panel-body">

    <div class="flex flex-row">
        <p>Each client application should have its own API key. If you need to generate a new key for Conversations
              please see <a
                    href='https://developer.bazaarvoice.com/docs/read/conversations_api/api_key_processes/requesting_api_keys'>Conversations Requesting API Keys</a>.
            <br><br>
            For all other API keys, Configuration Values, or if you don't know your client ID, contact <a
                    href="https://developer.bazaarvoice.com/support">Client Care</a> or your implementation team.
                    <br><br>
        </p>
    </div>

    <div class="flex flex-row" style="align-items: center">
        <div class="cel-fl-2">
            Enter your Client ID:
        </div>
        <div class="cel-fl-10">
            <input type="text" class="edit_ClientID" id="clientId" placeholder="your client name, such as bazaarvoice" style="border-color:red" size="40"/>
        </div>
    </div>

    <br>
    <div class="table-responsive">
        <table class="table" id="keyTable">
        </table>
    </div>

    <div class="flex flex-row" id="download">
        <p id = "downloadInstructions"></p>
    </div>

 <script type="text/javascript">

        if (!String.format) {
            String.format = function(format) {
                var args = Array.prototype.slice.call(arguments, 1);
                return format.replace(/{(\d+)}/g, function(match, number) {
                    return typeof args[number] != 'undefined'
                        ? args[number]
                        : match
                        ;
                });
            };
        }

        var prodKeyCount = 0
        var stagingKeyCount = 0

        function KeyRow(key, title, ph) {
            this.title = title
            this.key = key
            this.ph = ph
        }

        var rows= [
          new KeyRow("apiKeyCurations", "Curations", "Curations"),
          new KeyRow("apiKeyConversations", "Conversations", "Conversations"),
          new KeyRow("apiKeyConversationsStores", "Conversations for Stores", "Conversations for Stores"),
          new KeyRow("apiKeyShopperAdvertising", "Product Recommendations", "Product Recommendations"),
          new KeyRow("analyticsLocaleIdentifier", "Analytics Locale", "Analytics Locale")
        ]

        function getTableHTML() {
            var html = ["<tr class=\"odd\" style=\" background-color: #F7F7F7;\"><th style=\" width:30%;\">Products</th><th>Production API Keys</th><th>Staging API Keys</th></tr>"]

            for (row in rows) {

              var placeholderText = (rows[row].key == "analyticsLocaleIdentifier") ? "Configuration Value" : "API Key"

              html.push(String.format("<tr><th>{0}</th><td><input type=\"text\" onfocus=\"this.oldValue = this.value;\" class= \"prodKeyText\" id=\"{1}Prod\" placeholder=\"{2} Production {3}\" style=\"width:100%\"/></td>" +
              "<td><input type=\"text\" class= \"stagingKeyText\" id=\"{1}Staging\" onfocus=\"this.oldValue = this.value;\" placeholder=\"{2} Staging {3}\" style=\"width:100%\"/></td></tr>", rows[row].title, rows[row].key, rows[row].ph, placeholderText))
            }

            return html.join("")
        }

        document.getElementById("keyTable").innerHTML = getTableHTML()

        $('.prodKeyText').on('input', function(){
            processChange(this, true)
        });

        $('.stagingKeyText').on('input', function(){
            processChange(this, false)
        });

        function processChange(el, isProd) {
            if (el.value.length > 0) {
                if ( el.oldValue.length == 0) {
                    isProd ? prodKeyCount++ : stagingKeyCount++
                    el.style.borderColor = 'green'
                }
            }else {
                isProd ? prodKeyCount-- : stagingKeyCount--
                el.style.borderColor = ''
            }
            el.oldValue = el.value
            updateDownloadHint()
        }

        $('.edit_ClientID#clientId').on('input', function(){
            if (this.value.length > 0) {
                this.style.borderColor = 'green'
            }else {
                this.style.borderColor = 'red'
            }

            updateDownloadHint()
        });

        function getInstructionStr(isPlural, hasProdConfig) {
          var androidSdkTitle = 'bv-android-sdk'
          var sdkTitle = 'bv-ios-sdk'
          var isAndroid = sdkTitle === androidSdkTitle
          var instructionsFormat = '<strong id="configCallOut" style="font-size:250%; color: green">✓    </strong>You have successfully configured for {0}. After you <a id="exportJSON" onclick="exportJson()" style="cursor: pointer; cursor: hand;"><strong style="font-size: 120%">download your config {1}</strong></a> ' +
                  'you will need to {2}. Once this is done you may proceed to {3}.'
          var needTo = ''
          var steps = ''
          if (isAndroid) {
            var needToFormat = 'add {0} to your assets directory'
            needTo = String.format(needToFormat, isPlural? "them" : "it")
            steps = 'step 2'
          } else {
            var needToFormat = 'add {0} to your Xcode project and ensure {1} included in your main app bundle'
            needTo = String.format(needToFormat, isPlural? "them" : "it",  isPlural? "they are" : "it is")
            steps = 'steps 2 and 3'
          }
          var instructionStr = String.format(instructionsFormat, ((isPlural)? '<strong style="font-size: 120%">Production and Staging</strong>' : (hasProdConfig ? '<strong style="font-size: 125%">Production</strong>' : '<strong style="font-size: 120%">Staging</strong>')),
                  (isPlural)? "files" : "file", needTo, steps)
          return instructionStr
        }

        function updateDownloadHint() {
            var instructions = document.getElementById("downloadInstructions")
            var clientId = $('.edit_ClientID#clientId').val()

            if (clientId.length == 0){
                instructions.innerHTML = '<strong id="configCallOut" style="font-size:250%; color: red">X    </strong><strong>You must enter your Bazaarvoice client id in step 1 before proceeding.</strong>'
                return
            }

            var hasProdConfig = prodKeyCount > 0
            var hasStagingConfig = stagingKeyCount > 0

            if (!hasProdConfig && !hasStagingConfig) {
                instructions.innerHTML = '<strong id="configCallOut" style="font-size:250%; color: red">X    </strong><strong>You must enter your API keys in Step 1 before proceeding.</strong>'
                return
            }

            var isPlural = (hasProdConfig && hasStagingConfig)
            instructions.innerHTML = getInstructionStr(isPlural, hasProdConfig)
        }

        updateDownloadHint()



        function getJSONProd() {
            return getJSON("Prod")
        }

        function getJSONStaging() {
            return getJSON("Staging")
        }

        function getJSON(env) {
            var clientId = $('.edit_ClientID#clientId').val()
            var json = {"clientId": clientId}
            for (row in rows) {
                var apiKey = document.getElementById(rows[row].key + env).value
                if (apiKey.length > 0) {
                    json[rows[row].key] = apiKey
                }
            }

            return json
        }

        function exportJson() {

            if (prodKeyCount > 0) {
                downloadJson(getJSONProd(), "prod")
            }

            if (stagingKeyCount > 0) {
                downloadJson(getJSONStaging(), "staging")
            }
        }
        function downloadJson(config, env) {
            var el = document.createElement('a')
            el.style.display = 'none';
            document.body.appendChild(el);

            var data = "text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(config));

            el.setAttribute("href", "data:"+data);
            el.setAttribute("download", "bvsdk_config_" + env + ".json");
            el.click()
            document.body.removeChild(el)
        }


    </script>


    		</div>
    </div>
  </div>

    


<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="heading-installationHeaderFiles">
    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#installationHeaderFiles" aria-expanded="false" aria-controls="installationHeaderFiles" style="text-decoration: none">
      <div class="flex flex-row" style="align-items: center; padding-bottom: 10px;">
          <i id="installationHeaderFilesArrow" class="fa fa-chevron-right" style="color:#777; padding-right: 10px;"></i>
          <h5 style="margin-bottom: 0;"><step>2</step> Configure Headers/Imports</h5>
      </div>
      <div class="flex flex-row">
          <p style="color:#444; margin-bottom: 6px;">Add the correct header file imports.</p>
      </div>
      <div style="clear:both;"></div>
    </a>
  </div>
  <div id="installationHeaderFiles" class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingOne">
    <div class="panel-body">

    <p>Add the correct import statements so you can reference the Mobile SDK modules you are using.</p>
    <br>

    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#swift" aria-controls="swift" role="tab" data-toggle="tab">Swift</a></li>
        <li role="presentation"><a href="#objc" aria-controls="objc" role="tab" data-toggle="tab">Objective-C</a></li>
    </ul>

    <!-- Tab panes for including headers/imports -->
    <div class="tab-content code-switcher">
        <div role="tabpanel" class="tab-pane active" id="swift">
    <pre><code class="swift" id="swift-headers">import BVSDK
    </code></pre>
        </div>
        <div role="tabpanel" class="tab-pane" id="objc">
    <pre><code class="objectivec" id="objc-headers">@import BVSDK;
    </code></pre>
        </div>
    </div>

    		</div>
    </div>
  </div>

    


<div class="panel panel-default">
  <div class="panel-heading" role="tab" id="heading-installationBVSDKManager">
    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#installationBVSDKManager" aria-expanded="false" aria-controls="installationBVSDKManager" style="text-decoration: none">
      <div class="flex flex-row" style="align-items: center; padding-bottom: 10px;">
          <i id="installationBVSDKManagerArrow" class="fa fa-chevron-right" style="color:#777; padding-right: 10px;"></i>
          <h5 style="margin-bottom: 0;"><step>3</step> Initialize the BVSDKManager</h5>
      </div>
      <div class="flex flex-row">
          <p style="color:#444; margin-bottom: 6px;">Initialize the <code>BVSDKManager</code> in your XCode project.</p>
      </div>
      <div style="clear:both;"></div>
    </a>
  </div>
  <div id="installationBVSDKManager" class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingOne">
    <div class="panel-body">

    <p id = "installInstructions"></p>

    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#swift" aria-controls="swift" role="tab" data-toggle="tab">Swift</a></li>
        <li role="presentation"><a href="#objc" aria-controls="objc" role="tab" data-toggle="tab">Objective-C</a></li>
    </ul>

    <!-- Tab panes for including headers/imports -->
    <div class="tab-content code-switcher">
        <div role="tabpanel" class="tab-pane active" id="swift">
    <pre><code class="swift" id="swift-bvsdkmanager">
    </code></pre>
        </div>
        <div role="tabpanel" class="tab-pane" id="objc">
    <pre><code class="objectivec" id="objc-bvsdkmanager">
    </code></pre>
        </div>
    </div>

    		</div>
    </div>
  </div>

<script type="text/javascript">

        // Updates the swift and objective-c code samples depending on how the client id and api keys are added
        function updateCodeSnippets(){

            var instructions = document.getElementById("installInstructions")
            var objcElem = $('code.objectivec#objc-bvsdkmanager')
            var swiftElem = $('code.swift#swift-bvsdkmanager')
            var clientId = $('.edit_ClientID#clientId').val()

            if (clientId.length == 0){
                instructions.innerHTML = '<strong>You must enter your Bazaarvoice client id in step 1 before proceeding.</strong>'
                objcElem.text('')
                swiftElem.text('')
                return
            }

            var hasProdConfig = prodKeyCount > 0
            var hasStagingConfig = stagingKeyCount > 0

            if (!hasProdConfig && !hasStagingConfig) {
                instructions.innerHTML = "<strong>You must enter your API keys in Step 1 before proceeding.</strong>"
                return
            }
            var isPlural = (hasProdConfig && hasStagingConfig)
            var instructionsFormat = 'If you haven\'t already <a id="exportJSON" style="cursor: pointer; cursor: hand;" onclick="exportJson()">download your config {0}</a> and included them in your main app bundle.</br>'
            var instructionStr = String.format(instructionsFormat, ((isPlural)? 'files' : 'file'))
            instructions.innerHTML = instructionStr
            instructions.innerHTML += "</br>Insert the following code in <code>AppDelegate#applicationDidFinishLaunchingWithOptions</code>:"
            var hasBothConfigs = (hasProdConfig && hasStagingConfig)
            var objcConfig = (hasProdConfig)? "Prod" : "Staging"
            var swiftConfig = (hasProdConfig)? "prod" : "staging"
            objcElem.text('[BVSDKManager configure:BVConfigurationType'+ objcConfig + ']; //Configure with ' + objcConfig +' API keys')
            swiftElem.text('BVSDKManager.configure(.' + swiftConfig + ') //Configure with ' + objcConfig +' API keys')

            if (hasBothConfigs) {
                objcElem.append('\n\n//[BVSDKManager configure:BVConfigurationTypeStaging]; //Configure with Staging API keys')
                swiftElem.append('\n\n//BVSDKManager.configure(.staging) //Configure with Staging API keys')
            }
        }

       document.getElementById("heading-installationBVSDKManager").onclick = function () {
            updateCodeSnippets()
        }

    </script>

</div>

<a name="config_program"></a>
<h3>Configuring the BVSDK, Programatically</h3>
<hr>

The <code>BVSDKManager</code> can also be configured programatically. This scenario is not typically recommended, however, you can use this method if you need to modify your API keys within the same application session.

Configure the <code>BVSDKManager</code> programmatically for the Conversations API like the Swift example below. Call <code>BVSDKManager.configure(...)</code> when you need to update the API key and environment in use.

<br><br>
<pre><code class="swift">let configDict = ["clientId": "YOUR_CLIENT_ID",
                "apiKeyConversations": "YOUR_API_KEY"];
BVSDKManager.configure(withConfiguration: configDict, configType: .staging)</code></pre>


<br>



<div class="well well-sm">
	<h5>Author</h5>
	<p>Copyright 2017 Bazaarvoice, Inc. All rights reserved.</p>
	<h5>License</h5>
	<p>Use of the Bazaarvoice Mobile SDKs is contingent on your agreement and conformance with <a href="http://www.bazaarvoice.com/legal/api-terms-of-use.html">Bazaarvoice's API Terms of Use</a>. Additionally, you agree to store all data acquired by the SDK or Bazaarvoice's API only within the storage of the individual application instance using the SDK or API. You also agree to use the data acquired by the SDK or API only within the context of the same individual application instance and only for purposes consistent with that application's purpose. Except as otherwise noted, the Bazaarvoice Android and iOS SDKs are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p>
</div>
<br>


              </div>
            </div>
          </div>
        </div>        
      </div>
    </div>
  </body>
